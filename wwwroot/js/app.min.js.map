{"version":3,"sources":["wwwroot/js/app.js"],"names":["app","angular","module","controller","$scope","$timeout","$http","model","label","item","id","user","userName","facebookId","route","dish","price","isVeganFriendly","yes","no","created","vote","dishId","like","categories","name","key","picture","guid","loadStream","get","then","success","items","data","error","console","log","LESSON","CONFIG","CLIENT","window","location","href","indexOf","API","FACEBOOK_APP_ID","assetTypeEnum","Unknown","Picture","IOS","navigator","userAgent","match","constant","config","$routeProvider","$locationProvider","when","title","templateUrl","controllerAs","resolve","Users","isLoggedOrGoTo","isForward","otherwise","html5Mode","$httpProvider","defaults","withCredentials","filter","$filter","legacyFilter","cost","currency","ratio","formatting","APP","inches","unit","units","IMPERIAL","feet","Math","floor","round","meters","size","cm","pounds","oz","kg","weight","grams","value","precision","format","timezone","placeholder","Utils","parseTime","parseHour","val","factory","Vector","x","y","this","make","a","b","sqrt","normalize","l","incidence","angle","atan2","distance","cross","difference","prototype","towards","friction","add","copy","toString","getTouch","e","previous","t","type","touch","event","originalEvent","touches","length","changedTouches","pageX","pageY","s","getRelativeTouch","element","point","rect","getBoundingClientRect","left","top","getClosest","el","selector","matchesFn","parent","some","fn","document","body","parentElement","throttle","func","wait","options","context","args","result","timeout","later","leading","getNow","apply","now","remaining","arguments","clearTimeout","trailing","setTimeout","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","transformProperty","safariPropertyHack","div","createElement","style","every","prefix","undefined","Style","props","scale","hoverScale","currentScale","set","styles","forEach","push","cssText","join","transform","transformOrigin","$q","WebWorker","src","self","callbacks","worker","Worker","onmessage","isWebWorkerSupported","transformResponse","d","h","response","eval","object","o","postMessage","parse","JSON","stringify","deferred","status","reject","post","defer","promise","isSupported","$httpAsync","wrap","getDefaults","isSuccess","createMap","Object","create","isString","parseHeaders","headers","fillInParsed","parsed","i","split","j","line","lowercase","trim","substr","isObject","p","headersGetter","headersObj","method","responseType","extend","common","toLowerCase","string","url","head","put","patch","getter","statusText"],"mappings":"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","file":"wwwroot/js/app.min.js","sourcesContent":["/*global angular,FB */\r\n\r\nvar app = angular.module('ullo', []);\r\n\r\napp.controller('TestCtrl', ['$scope', '$timeout', '$http', function ($scope, $timeout, $http) {\r\n\r\n    $scope.model = {\r\n        label: 'Carica',\r\n    };\r\n    \r\n    $timeout(function() {\r\n        $scope.model.label = 'Carica Stream';\r\n    }, 1000);\r\n\r\n    $scope.item = {\r\n        id: 117,\r\n        user: {\r\n            userName: 'Fabio Ottaviani',\r\n            facebookId: '10153341954226947',\r\n            route: 'fabio-ottaviani'\r\n        },\r\n        dish: {\r\n            price: 5,\r\n            isVeganFriendly: false,\r\n            yes: 1,\r\n            no: 0,\r\n            created: '2016-04-27T19:13:45.497',\r\n            vote: {\r\n                dishId: 19,\r\n                like: true,\r\n                created: '2016-04-27T19:14:00.497'\r\n            },\r\n            categories: [\r\n                {\r\n                    id: 2,\r\n                    name: 'Piadine',\r\n                    key: 'piadine'\r\n                }\r\n            ],\r\n            id: 19,\r\n            name: 'Pizza Margherita',\r\n            key: 'pizzaMargherita'\r\n        },\r\n        picture: {\r\n            guid: '8fe99743-4ed3-46de-ba13-2c1bd7a45ffe',\r\n            created: '2016-04-27T19:13:41.02',\r\n            id: 20,\r\n            name: '8fe99743-4ed3-46de-ba13-2c1bd7a45ffe',\r\n            route: '/Media/Files/8fe99743-4ed3-46de-ba13-2c1bd7a45ffe.jpg',\r\n            key: '8Fe997434Ed346DeBa132C1bd7a45ffe'\r\n        },\r\n        created: '2016-04-27T19:13:45.497'\r\n    };\r\n    \r\n    $scope.loadStream = function() {\r\n        $http.get('http://ulloapi.wslabs.it/api/stream/anonymous').then(function(success){\r\n            $scope.items = success.data;\r\n        }, function(error) {\r\n            console.log('error', error);\r\n        });\r\n    };\r\n\r\n}]);\r\n\r\n\n/*global angular,dynamics*/\r\n\n/*global angular,FB */\r\n\r\nvar LESSON = true;\r\nvar CONFIG = {\r\n    CLIENT: window.location.href.indexOf('http://ulloclient.wslabs.it') === 0 ? 'http://ulloclient.wslabs.it' : 'http://dev.ullowebapp:8081',\r\n    API: (LESSON || window.location.href.indexOf('http://ulloclient.wslabs.it') === 0) ? 'http://ulloapi.wslabs.it' : 'https://localhost:44302',\r\n    FACEBOOK_APP_ID: window.location.href.indexOf('http://ulloclient.wslabs.it') === 0 ? '1054303094614120' : '1062564893787940',\r\n    assetTypeEnum: {\r\n        Unknown: 0,\r\n        Picture: 1,\r\n    },\r\n    IOS: (navigator.userAgent.match(/iPad|iPhone|iPod/g) ? true : false),\r\n};\r\n\r\napp.constant('APP', CONFIG);\r\n\r\napp.config(['$routeProvider', '$locationProvider', function ($routeProvider, $locationProvider) {\r\n\r\n\t// SECURE ROUTING\r\n    $routeProvider.when('/stream', {\r\n        title: 'Stream',\r\n        templateUrl: 'templates/stream.html',\r\n        controller: 'StreamCtrl',\r\n        controllerAs: 'streamCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n\r\n    }).when('/dishes/:dishId', {\r\n        title: 'Dish',\r\n        templateUrl: 'templates/dish.html',\r\n        controller: 'DishCtrl',\r\n        controllerAs: 'dishCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n        isForward: true,\r\n\r\n    }).when('/categories/:categoryId', {\r\n        title: 'Category',\r\n        templateUrl: 'templates/category.html',\r\n        controller: 'CategoryCtrl',\r\n        controllerAs: 'categoryCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n        isForward: true,\r\n\r\n    }).when('/users/:userRoute', {\r\n        title: 'User',\r\n        templateUrl: 'templates/user.html',\r\n        controller: 'UserCtrl',\r\n        controllerAs: 'userCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n        isForward: true,\r\n\r\n    }).when('/post', {\r\n        title: 'Add Post',\r\n        templateUrl: 'templates/post.html',\r\n        controller: 'PostCtrl',\r\n        controllerAs: 'postCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n        isForward: true,\r\n\r\n    }).when('/settings', {\r\n        title: 'Settings',\r\n        templateUrl: 'templates/settings.html',\r\n        controller: 'SettingsCtrl',\r\n        controllerAs: 'settingsCtrl',\r\n        resolve: {\r\n            user: ['Users', function(Users){\r\n                return Users.isLoggedOrGoTo('/splash');\r\n            }]\r\n        },\r\n        isForward: true,\r\n\r\n\t// UNSECURE ROUTING\r\n    }).when('/splash', {\r\n        title: 'Splash',\r\n        templateUrl: 'templates/splash.html',\r\n        controller: 'SplashCtrl',\r\n        controllerAs: 'splashCtrl',\r\n\r\n    }).when('/signin', {\r\n        title: 'Sign In',\r\n        templateUrl: 'templates/signin.html',\r\n        controller: 'SigninCtrl',\r\n        controllerAs: 'signinCtrl',\r\n\r\n    }).when('/signup', {\r\n        title: 'Sign Up',\r\n        templateUrl: 'templates/signup.html',\r\n        controller: 'SignupCtrl',\r\n        controllerAs: 'signupCtrl',\r\n\r\n    }).when('/test', {\r\n        title: 'Test',\r\n        templateUrl: 'templates/dishes.html',\r\n        controller: 'TestCtrl',\r\n        controllerAs: 'testCtrl',\r\n\r\n    }).when('/404', {\r\n\r\n        title: 'Error 404',\r\n        templateUrl: '404.html',\r\n\r\n    });\r\n\r\n    $routeProvider.otherwise('/stream');\r\n\r\n    // HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\r\n    $locationProvider.html5Mode(true);\r\n\r\n}]);\r\n\r\napp.config(['$httpProvider', function ($httpProvider) {\r\n    \r\n    $httpProvider.defaults.withCredentials = true;\r\n    \r\n}]);\r\n\n/*global angular,FB */\r\n\n/*global angular,FB,dynamics*/\r\n\n\r\napp.filter('customCurrency', ['$filter', function ($filter) {\r\n    var legacyFilter = $filter('currency');\r\n    return function (cost, currency) {\r\n        return legacyFilter(cost * currency.ratio, currency.formatting);\r\n    }\r\n}]);\r\n\r\napp.filter('customSize', ['APP', function (APP) {\r\n    return function (inches) {\r\n        if (APP.unit === APP.units.IMPERIAL) {\r\n            var feet = Math.floor(inches / 12);\r\n            inches = inches % 12;\r\n            inches = Math.round(inches * 10) / 10;\r\n            return (feet ? feet + '\\' ' : '') + (inches + '\\'\\'');\r\n        } else {\r\n            var meters = Math.floor(inches * APP.size.ratio);\r\n            var cm = (inches * APP.size.ratio * 100) % 100;\r\n            cm = Math.round(cm * 10) / 10;\r\n            return (meters ? meters + 'm ' : '') + (cm + 'cm');\r\n        }\r\n    };\r\n}]);\r\n\r\napp.filter('customWeight', ['APP', function (APP) {\r\n    return function (pounds) {\r\n        if (APP.unit === APP.units.IMPERIAL) {\r\n            if (pounds < 1) {\r\n                var oz = pounds * 16;\r\n                oz = Math.round(oz * 10) / 10;\r\n                return (oz ? oz + 'oz ' : '');\r\n            } else {\r\n                pounds = Math.round(pounds * 100) / 100;\r\n                return (pounds ? pounds + 'lb ' : '');\r\n            }\r\n        } else {\r\n            var kg = Math.floor(pounds * APP.weight.ratio / 1000);\r\n            var grams = (pounds * APP.weight.ratio) % 1000;\r\n            grams = Math.round(grams * 10) / 10;\r\n            return (kg ? kg + 'kg ' : '') + (grams + 'g');\r\n        }\r\n    };\r\n}]);\r\n\r\napp.filter('customNumber', ['$filter', function ($filter) {\r\n    var filter = $filter('number');\r\n    return function (value, precision, unit) {\r\n        unit = unit || '';\r\n        return (value ? filter(value, precision) + unit : '-');\r\n    }\r\n}]);\r\n\r\napp.filter('customDate', ['$filter', function ($filter) {\r\n    var filter = $filter('date');\r\n    return function (value, format, timezone) {\r\n        return value ? filter(value, format, timezone) : '-';\r\n    }\r\n}]);\r\n\r\napp.filter('customTime', ['$filter', function ($filter) {\r\n    return function (value, placeholder) {\r\n        if (value) {\r\n            return Utils.parseTime(value);\r\n        } else {\r\n            return (placeholder ? placeholder : '-');\r\n        }\r\n    }\r\n}]);\r\n\r\napp.filter('customDigital', ['$filter', function ($filter) {\r\n    return function (value, placeholder) {\r\n        if (value) {\r\n            return Utils.parseHour(value);\r\n        } else {\r\n            return (placeholder ? placeholder : '-');\r\n        }\r\n    }\r\n}]);\r\n\r\napp.filter('customString', ['$filter', function ($filter) {\r\n    return function (value, placeholder) {\r\n        return value ? value : (placeholder ? placeholder : '-');\r\n    }\r\n}]);\r\n\r\napp.filter('customEnum', function () {\r\n    return function (val) {\r\n        val = val + 1;\r\n        return val < 10 ? '0' + val : val;\r\n    };\r\n});\r\n\n/*global angular,FB */\r\n\n/*global angular,FB */\r\n\n/*global angular,FB */\r\n\r\napp.factory('Vector', function() {\r\n\tfunction Vector(x, y) {\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n    }\r\n    Vector.make = function (a, b) {\r\n        return new Vector(b.x - a.x, b.y - a.y);\r\n    };\r\n    Vector.size = function (a) {\r\n        return Math.sqrt(a.x * a.x + a.y * a.y);\r\n    };\r\n    Vector.normalize = function (a) {\r\n        var l = Vector.size(a);\r\n        a.x /= l;\r\n        a.y /= l;\r\n        return a;\r\n    };\r\n    Vector.incidence = function (a, b) {\r\n        var angle = Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);\r\n        // if (angle < 0) angle += 2 * Math.PI;\r\n        // angle = Math.min(angle, (Math.PI * 2 - angle));\r\n        return angle;\r\n    };\r\n    Vector.distance = function (a, b) {\r\n        return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));\r\n    };\r\n    Vector.cross = function (a, b) {\r\n        return (a.x * b.y) - (a.y * b.x);\r\n    };\r\n    Vector.difference = function (a, b) {\r\n        return new Vector(b.x - a.x, b.y - a.y);\r\n    };\r\n    Vector.prototype = {\r\n        size: function () {\r\n            return Vector.size(this);\r\n        },\r\n        normalize: function () {\r\n            return Vector.normalize(this);\r\n        },\r\n        incidence: function (b) {\r\n            return Vector.incidence(this, b);\r\n        },\r\n        cross: function (b) {\r\n            return Vector.cross(this, b);\r\n        },\r\n        towards: function (b, friction) {\r\n            friction = friction || 0.125;\r\n            this.x += (b.x - this.x) * friction;\r\n            this.y += (b.y - this.y) * friction;\r\n            return this;\r\n        },\r\n        add: function (b) {\r\n            this.x += b.x;\r\n            this.y += b.y;\r\n            return this;\r\n        },\r\n        friction: function (b) {\r\n            this.x *= b;\r\n            this.y *= b;\r\n            return this;\r\n        },\r\n        copy: function (b) {\r\n            return new Vector(this.x, this.y);\r\n        },\r\n        toString: function () {\r\n            return '{' + this.x + ',' + this.y + '}';\r\n        },\r\n    };\r\n    return Vector;\r\n});\r\n\r\napp.factory('Utils', ['Vector', function (Vector) {\r\n    (function () {\r\n        var lastTime = 0;\r\n        var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n        for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n            window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n            window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\r\n                                       || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n        }\r\n        if (!window.requestAnimationFrame) {\r\n            window.requestAnimationFrame = function (callback, element) {\r\n                var currTime = new Date().getTime();\r\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n                var id = window.setTimeout(function () { callback(currTime + timeToCall); }, timeToCall);\r\n                lastTime = currTime + timeToCall;\r\n                return id;\r\n            };\r\n        }\r\n        if (!window.cancelAnimationFrame) {\r\n            window.cancelAnimationFrame = function (id) {\r\n                clearTimeout(id);\r\n            };\r\n        }\r\n    }());\r\n\r\n    var transformProperty = function detectTransformProperty() {\r\n        var transformProperty = 'transform',\r\n            safariPropertyHack = 'webkitTransform';\r\n\t\tvar div = document.createElement(\"DIV\");\r\n        if (typeof div.style[transformProperty] !== 'undefined') {\r\n            ['webkit', 'moz', 'o', 'ms'].every(function(prefix) {\r\n                var e = '-' + prefix + '-transform';\r\n                if (typeof div.style[e] !== 'undefined') {\r\n                    transformProperty = e;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n        } else if (typeof div.style[safariPropertyHack] !== 'undefined') {\r\n            transformProperty = '-webkit-transform';\r\n        } else {\r\n            transformProperty = undefined;\r\n        }\r\n        return transformProperty;\r\n    } ();\r\n\r\n    var _isTouch;\r\n    function isTouch() {\r\n        if (!_isTouch) {\r\n            _isTouch = {\r\n                value: ('ontouchstart' in window || 'onmsgesturechange' in window)\r\n            }\r\n        }\r\n        // console.log(_isTouch);\r\n        return _isTouch.value;\r\n    }\r\n\r\n    function getTouch(e, previous) {\r\n        var t = new Vector();\r\n        if (e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel') {\r\n            var touch = null;\r\n            var event = e.originalEvent ? e.originalEvent : e;\r\n            var touches = event.touches.length ? event.touches : event.changedTouches;\r\n            if (touches && touches.length) {\r\n                touch = touches[0];\r\n            }\r\n            if (touch) {\r\n                t.x = touch.pageX;\r\n                t.y = touch.pageY;\r\n            }\r\n        } else if (e.type == 'click' || e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover' || e.type == 'mouseout' || e.type == 'mouseenter' || e.type == 'mouseleave') {\r\n            t.x = e.pageX;\r\n            t.y = e.pageY;\r\n        }\r\n        if (previous) {\r\n            t.s = Vector.difference(previous, t);\r\n        }\r\n        t.type = e.type;\r\n        return t;\r\n    }\r\n\r\n    function getRelativeTouch(element, point) {\r\n        var rect = element[0].getBoundingClientRect();\r\n        var e = new Vector(rect.left,  rect.top);\r\n        return Vector.difference(e, point);\r\n    }\r\n\r\n    function getClosest(el, selector) {\r\n        var matchesFn, parent;\r\n        ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\r\n            if (typeof document.body[fn] == 'function') {\r\n                matchesFn = fn;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        while (el !== null) {\r\n            parent = el.parentElement;\r\n            if (parent !== null && parent[matchesFn](selector)) {\r\n                return parent;\r\n            }\r\n            el = parent;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    var getNow = Date.now || function() {\r\n        return new Date().getTime();\r\n    };\r\n\r\n    function throttle(func, wait, options) {\r\n        // Returns a function, that, when invoked, will only be triggered at most once\r\n        // during a given window of time. Normally, the throttled function will run\r\n        // as much as it can, without ever going more than once per `wait` duration;\r\n        // but if you'd like to disable the execution on the leading edge, pass\r\n        // `{leading: false}`. To disable execution on the trailing edge, ditto.\r\n        var context, args, result;\r\n        var timeout = null;\r\n        var previous = 0;\r\n        if (!options) options = {};\r\n        var later = function () {\r\n            previous = options.leading === false ? 0 : getNow();\r\n            timeout = null;\r\n            result = func.apply(context, args);\r\n            if (!timeout) context = args = null;\r\n        };\r\n        return function () {\r\n            var now = getNow();\r\n            if (!previous && options.leading === false) previous = now;\r\n            var remaining = wait - (now - previous);\r\n            context = this;\r\n            args = arguments;\r\n            if (remaining <= 0 || remaining > wait) {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                }\r\n                previous = now;\r\n                result = func.apply(context, args);\r\n                if (!timeout) context = args = null;\r\n            } else if (!timeout && options.trailing !== false) {\r\n                timeout = setTimeout(later, remaining);\r\n            }\r\n            return result;\r\n        };\r\n    }\r\n\r\n    var Style = function() {\r\n        function Style() {\r\n            this.props = {\r\n                scale: 1,\r\n                hoverScale: 1,\r\n                currentScale: 1,\r\n            }\r\n        }\r\n        Style.prototype = {\r\n            set: function (element) {\r\n                var styles = [];\r\n                angular.forEach(this, function (value, key) {\r\n                    if (key !== 'props')\r\n                        styles.push(key + ':' + value);\r\n                });\r\n                element.style.cssText = styles.join(';') + ';';\r\n            },\r\n            transform: function (transform) {\r\n                this[Utils.transformProperty] = transform;\r\n            },\r\n            transformOrigin: function (x, y) {\r\n                this[Utils.transformProperty + '-origin-x'] = (Math.round(x * 1000) / 1000) + '%';\r\n                this[Utils.transformProperty + '-origin-y'] = (Math.round(y * 1000) / 1000) + '%';\r\n            },\r\n        };\r\n        return Style;\r\n    }();\r\n\r\n    function Utils() {\r\n    }\r\n\r\n\tUtils.transformProperty = transformProperty;\r\n    Utils.getTouch = getTouch;\r\n    Utils.getRelativeTouch = getRelativeTouch;\r\n    Utils.getClosest = getClosest;\r\n    Utils.throttle = throttle;\r\n    Utils.Style = Style;\r\n\r\n    return Utils;\r\n}]);\r\n\n/*global angular*/\r\n\r\napp.factory('WebWorker', ['$q', '$http', function ($q, $http) {\r\n    var isWebWorkerSupported = (typeof (Worker) !== \"undefined\");\r\n    if (!isWebWorkerSupported) {\r\n        window.Worker = function () {\r\n            function Worker(src) {\r\n                var self = this;\r\n                $http.get(src, { transformResponse: function (d, h) { return d } }).then(function success(response) {\r\n                    try {\r\n                        eval('self.o = function(){ function postMessage(e) { self.onmessage({data:e}); }\\n ' + response.data + ' };');\r\n                        self.object = new self.o();\r\n                        self.object.postMessage = function (e) {\r\n                            self.onmessage({data:e});\r\n                        }\r\n                    } catch(e) {\r\n                        console.log(\"Worker error \", e);\r\n                    }\r\n                }, function error(response) {\r\n                    console.log(\"Worker not found\");\r\n                });\r\n            }\r\n            Worker.prototype = {\r\n                onmessage: function (e) {\r\n                    console.log('Worker not implemented');\r\n                },\r\n                postMessage: function (e) {\r\n                    this.object.onmessage({ data: e });\r\n                }\r\n            }\r\n            return Worker;\r\n        } ();\r\n    }\r\n    function WebWorker(src) {\r\n        var self = this;\r\n        this.callbacks = {};\r\n        this.id = 0;\r\n        this.worker = new Worker(src);\r\n        this.worker.onmessage = function (e) {\r\n            self.onmessage(e);\r\n        };\r\n    }\r\n    WebWorker.prototype = {\r\n        parse: function (e) {\r\n            return JSON.parse(e.data);\r\n        },\r\n        stringify: function (data) {\r\n            return JSON.stringify(data);\r\n        },\r\n        onmessage: function (e) {\r\n            var data = this.parse(e);\r\n            var deferred = this.callbacks[data.id];\r\n            if (data.status !== -1) {\r\n                deferred.resolve(data);\r\n            } else {\r\n                deferred.reject(data);\r\n            }\r\n            delete this.callbacks[data.id];\r\n        },\r\n        post: function (data) {\r\n            var deferred = $q.defer();\r\n            data.id = this.id;\r\n            this.callbacks[this.id.toString()] = deferred;\r\n            this.id++;\r\n            this.worker.postMessage(this.stringify(data));\r\n            return deferred.promise;\r\n        },\r\n    };\r\n    WebWorker.isSupported = isWebWorkerSupported;\r\n    return WebWorker;\r\n}]);\r\n\r\napp.factory('$httpAsync', ['$q', '$http', function ($q, $http) {\r\n    var isWebWorkerSupported = (typeof (Worker) !== \"undefined\");\r\n    if (!isWebWorkerSupported) {\r\n        return $http;\r\n    }\r\n    var worker = new Worker('/js/workers/http.min.js');\r\n    var callbacks = {};\r\n    var id = 0;\r\n    var lowercase = function (string) { return isString(string) ? string.toLowerCase() : string; };\r\n    var trim = function (value) {\r\n        return isString(value) ? value.trim() : value;\r\n    };\r\n    function $httpAsync(options) {\r\n        var deferred = $q.defer();\r\n        var wrap = getDefaults(options);\r\n        wrap.id = id.toString();\r\n        console.log('wrap', wrap);\r\n        callbacks[wrap.id] = deferred;\r\n        id++;\r\n        worker.postMessage($httpAsync.stringify(wrap));\r\n        return deferred.promise;\r\n    }\r\n    $httpAsync.get = function (url, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'GET',\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.delete = function (url, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'DELETE',\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.head = function (url, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'HEAD',\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.post = function (url, data, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'POST',\r\n            data: data,\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.put = function (url, data, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'PUT',\r\n            data: data,\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.patch = function (url, data, config) {\r\n        return $httpAsync(angular.extend({}, config || {}, {\r\n            method: 'PATCH',\r\n            data: data,\r\n            url: url\r\n        }));\r\n    };\r\n    $httpAsync.parse = function (e) {\r\n        return JSON.parse(e.data);\r\n    };\r\n    $httpAsync.stringify = function (data) {\r\n        return JSON.stringify(data);\r\n    };\r\n    $httpAsync.isSupported = isWebWorkerSupported;\r\n    worker.onmessage = function (e) {\r\n        var wrap = $httpAsync.parse(e);\r\n        console.log('onmessage', wrap);\r\n        var deferred = callbacks[wrap.id];\r\n        var status = wrap.status >= -1 ? wrap.status : 0;\r\n        var getter = headersGetter(wrap.response.headers);\r\n        (isSuccess(status) ? deferred.resolve : deferred.reject)({\r\n            data: wrap.response.data, // !!!! JSON.parse(wrap.response.data),\r\n            headers: getter,\r\n            status: wrap.response.status,\r\n            statusText: wrap.response.statusText,\r\n            config: wrap.config,\r\n        });\r\n        delete callbacks[wrap.id];\r\n    }\r\n    return $httpAsync;\r\n    function isSuccess(status) {\r\n        return 200 <= status && status < 300;\r\n    }\r\n    function createMap() {\r\n        return Object.create(null);\r\n    }\r\n    function isString(value) { return typeof value === 'string'; }\r\n    function parseHeaders(headers) {\r\n        var parsed = createMap(), i;\r\n        function fillInParsed(key, val) {\r\n            if (key) {\r\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\r\n            }\r\n        }\r\n        if (isString(headers)) {\r\n            var a = headers.split('\\n');\r\n            for (var j = 0; j < a.length; j++) {\r\n                var line = a[j];\r\n                i = line.indexOf(':');\r\n                fillInParsed(lowercase(trim(line.substr(0, i))), trim(line.substr(i + 1)));\r\n            }\r\n        } else if (isObject(headers)) {\r\n            for (var p in headers) {\r\n                fillInParsed(lowercase(p), trim(headers[p]));\r\n            }\r\n        }\r\n        return parsed;\r\n    }\r\n    function headersGetter(headers) {\r\n        var headersObj;\r\n        return function (name) {\r\n            if (!headersObj) headersObj = parseHeaders(headers);\r\n            if (name) {\r\n                var value = headersObj[lowercase(name)];\r\n                if (value === void 0) {\r\n                    value = null;\r\n                }\r\n                return value;\r\n            }\r\n            return headersObj;\r\n        };\r\n    }\r\n    function getDefaults(options) {\r\n        var defaults = {\r\n            method: 'GET',\r\n            withCredentials: false,\r\n            responseType: 'json',\r\n            headers: {},\r\n            config: {}\r\n        }\r\n        defaults.withCredentials = $http.defaults.withCredentials;\r\n        angular.extend(defaults.headers, $http.defaults.headers.common);\r\n        var method = (options.method || defaults.method).toLowerCase();\r\n        if ($http.defaults.headers[method]) {\r\n            angular.extend(defaults.headers, $http.defaults.headers[method]);\r\n        }\r\n        console.log('defaults', $http.defaults);\r\n        // defaults = angular.extend(defaults, $http.defaults);\r\n        /*\r\n    method{string}:                     HTTP method (e.g. 'GET', 'POST', etc)\r\n    url:{string}:                       Absolute or relative URL of the resource that is being requested.\r\n    params:{Object.<string|Object>}:    Map of strings or objects which will be serialized with the paramSerializer and appended as GET parameters.\r\n\r\n    data:{string|Object}:               Data to be sent as the request message data.\r\n    headers:{Object}:                   Map of strings or functions which return strings representing HTTP headers to send to the server. If the return value of a function is null, the header will not be sent. Functions accept a config object as an argument.\r\n\r\n    xsrfHeaderName:{string}:            Name of HTTP header to populate with the XSRF token.\r\n    xsrfCookieName:{string}:            Name of cookie containing the XSRF token.\r\n    transformRequest:{function(data, headersGetter)|Array.<function(data, headersGetter)>}:         transform function or an array of such functions. The transform function takes the http request body and headers and returns its transformed (typically serialized) version. See Overriding the Default Transformations\r\n\r\n    transformResponse:{function(data, headersGetter, status)|Array.<function(data, headersGetter, status)>}:    transform function or an array of such functions. The transform function takes the http response body, headers and status and returns its transformed (typically deserialized) version. See Overriding the Default TransformationjqLiks\r\n\r\n    paramSerializer:{string|function(Object<string,string>):string}:        A function used to prepare the string representation of request parameters (specified as an object). If specified as string, it is interpreted as function registered with the $injector, which means you can create your own serializer by registering it as a service. The default serializer is the $httpParamSerializer; alternatively, you can use the $httpParamSerializerJQLike\r\n\r\n    cache:{boolean|Cache}:              If true, a default $http cache will be used to cache the GET request, otherwise if a cache instance built with $cacheFactory, this cache will be used for caching.\r\n\r\n    timeout:{number|Promise}:           timeout in milliseconds, or promise that should abort the request when resolved.\r\n    withCredentials:{boolean}:          whether to set the withCredentials flag on the XHR object. See requests with credentials for more information.\r\n\r\n    responseType:{string}:              see XMLHttpRequest.responseType.\r\n        */\r\n        options ? options = angular.extend(defaults, options) : defaults;\r\n        return options;\r\n    }\r\n}]);\r\n"],"sourceRoot":"/source/"}